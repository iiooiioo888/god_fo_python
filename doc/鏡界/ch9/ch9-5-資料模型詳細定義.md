**[â† è¿”å›žç¬¬9ç« é¦–é ](ch9-index.md)**

---

### 9.5 è³‡æ–™æ¨¡åž‹è©³ç´°å®šç¾©

#### 9.5.1 æ ¸å¿ƒè³‡æ–™æ¨¡åž‹

1. **æœå‹™é…ç½®æ¨¡åž‹**
   ```python
   class ServiceConfig:
       service_id: str
       service_name: str
       description: str
       version: str
       replicas: int
       resources:
           memory_mb: int
           cpu_cores: float
       health_check:
           endpoint: str
           interval_seconds: int
           timeout_seconds: int
       environment_vars: Dict[str, str]
   ```

2. **APIè·¯ç”±æ¨¡åž‹**
   ```python
   class APIRoute:
       route_id: str
       path: str
       methods: List[str]  # GET, POST, etc.
       target_service: str
       rate_limit:
           requests_per_minute: int
       authentication_required: bool
       roles_required: List[str]
   ```

3. **é™æµè¦å‰‡æ¨¡åž‹**
   ```python
   class RateLimitRule:
       rule_id: str
       user_id: str
       limit_type: str  # per_minute, per_hour
       max_requests: int
       window_size_seconds: int
       action_on_exceed: str  # reject, queue, throttle
   ```

#### 9.5.2 ç›£æŽ§è³‡æ–™æ¨¡åž‹

```python
class Metric:
    metric_id: str
    service_name: str
    metric_name: str  # cpu_usage, memory_usage, request_count
    value: float
    timestamp: datetime
    tags: Dict[str, str]
    unit: str
```

#### 9.5.3 å‘Šè­¦è¦å‰‡æ¨¡åž‹

```python
class AlertRule:
    rule_id: str
    name: str
    metric_name: str
    condition: str  # ">"  "<" "==" etc.
    threshold: float
    duration_seconds: int
    severity: str  # critical, warning, info
    action: str  # email, slack, webhook
```

#### 9.5.4 è³‡æ–™åº«æž¶æ§‹

| è¡¨å | ä¸»è¦å­—æ®µ | ç”¨é€” |
|------|---------|------|
| services | service_id, name, version, status | æœå‹™ç®¡ç† |
| api_routes | route_id, path, method, target | APIè·¯ç”± |
| rate_limits | rule_id, user_id, limit_type | é™æµç®¡ç† |
| metrics | metric_id, service, value, timestamp | æ€§èƒ½æŒ‡æ¨™ |
| alerts | alert_id, rule_id, triggered_at | å‘Šè­¦è¨˜éŒ„ |
| audit_logs | log_id, user_id, action, timestamp | å¯©è¨ˆæ—¥èªŒ |

---

## ðŸ“‘ ç›¸é—œç« ç¯€

|| å‰åº | ç•¶å‰ | å¾ŒçºŒ |
||-----|------|------|
|| [9.4](ch9-4-æ ¸å¿ƒçµ„ä»¶è©³ç´°å¯¦ç¾.md) | **9.5** | [9.6](ch9-6-APIè©³ç´°è¦ç¯„.md) |

**å¿«é€ŸéˆæŽ¥ï¼š**
- [â† è¿”å›žç¬¬9ç« é¦–é ](ch9-index.md)
