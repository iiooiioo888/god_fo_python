# ç¬¬9ç« ï¼šç³»çµ±æ•´åˆèˆ‡éƒ¨ç½²

## 9.3 ç›£æ§èˆ‡å‘Šè­¦

**[â† è¿”å›ç¬¬9ç« é¦–é ](ch9-index.md)**

---

#### 9.3.1 ç›£æ§æŒ‡æ¨™

1. **ç³»çµ±çº§æŒ‡æ¨™**
   ```yaml
   # system-metrics.yaml
   system:
     cpu:
       usage: "system_cpu_usage"
       limit: "system_cpu_limit"
     memory:
       usage: "system_memory_usage"
       limit: "system_memory_limit"
     disk:
       usage: "system_disk_usage"
       iops: "system_disk_iops"
     network:
       ingress: "system_network_ingress"
       egress: "system_network_egress"
   ```

2. **åº”ç”¨çº§æŒ‡æ¨™**
   ```yaml
   # application-metrics.yaml
   application:
     http:
       requests_total: "http_requests_total"
       request_duration_seconds: "http_request_duration_seconds"
       errors_total: "http_errors_total"
     database:
       connections: "db_connections"
       query_duration_seconds: "db_query_duration_seconds"
       errors_total: "db_errors_total"
     queue:
       size: "queue_size"
       processing_time_seconds: "queue_processing_time_seconds"
     cache:
       hits: "cache_hits"
       misses: "cache_misses"
       evictions: "cache_evictions"
   ```

#### 9.3.2 å‘Šè­¦è§„åˆ™

1. **ç³»çµ±å¥åº·å‘Šè­¦**
   ```yaml
   # system-alerts.yaml
   alerts:
     - name: "High CPU Usage"
       expression: "system_cpu_usage > 0.9"
       for: "5m"
       severity: "critical"
       summary: "High CPU usage on {{ $labels.instance }}"
       description: "CPU usage is {{ $value }}% (threshold: 90%)"
     
     - name: "High Memory Usage"
       expression: "system_memory_usage > 0.85"
       for: "10m"
       severity: "warning"
       summary: "High memory usage on {{ $labels.instance }}"
       description: "Memory usage is {{ $value }}% (threshold: 85%)"
     
     - name: "Disk Space Low"
       expression: "system_disk_usage > 0.9"
       for: "15m"
       severity: "critical"
       summary: "Low disk space on {{ $labels.instance }}"
       description: "Disk usage is {{ $value }}% (threshold: 90%)"
   ```

2. **åº”ç”¨å¥åº·å‘Šè­¦**
   ```yaml
   # application-alerts.yaml
   alerts:
     - name: "High HTTP Error Rate"
       expression: "rate(http_errors_total[5m]) / rate(http_requests_total[5m]) > 0.05"
       for: "5m"
       severity: "critical"
       summary: "High HTTP error rate for {{ $labels.service }}"
       description: "HTTP error rate is {{ $value }} (threshold: 5%)"
     
     - name: "Slow Database Queries"
       expression: "avg_over_time(db_query_duration_seconds[10m]) > 1.0"
       for: "10m"
       severity: "warning"
       summary: "Slow database queries for {{ $labels.service }}"
       description: "Average query duration is {{ $value }}s (threshold: 1.0s)"
     
     - name: "Queue Backlog"
       expression: "queue_size > 1000"
       for: "15m"
       severity: "warning"
       summary: "Queue backlog for {{ $labels.service }}"
       description: "Queue size is {{ $value }} (threshold: 1000)"
   ```

---

## ğŸ“‘ ç›¸é—œç« ç¯€

| å‰åº | ç•¶å‰ | å¾ŒçºŒ |
|-----|------|------|
| [9.2 éƒ¨ç½²æµç¨‹](ch9-2-éƒ¨ç½²æµç¨‹.md) | **9.3 ç›£æ§èˆ‡å‘Šè­¦** | [9.4 æŒçºŒæ•´åˆèˆ‡æŒçºŒéƒ¨ç½²](ch9-4-æŒçºŒæ•´åˆèˆ‡æŒçºŒéƒ¨ç½².md) |

**å¿«é€Ÿéˆæ¥ï¼š**
- [9.2 éƒ¨ç½²æµç¨‹](ch9-2-éƒ¨ç½²æµç¨‹.md)
- [9.4 æŒçºŒæ•´åˆèˆ‡æŒçºŒéƒ¨ç½²](ch9-4-æŒçºŒæ•´åˆèˆ‡æŒçºŒéƒ¨ç½².md)
- [â† è¿”å›ç¬¬9ç« é¦–é ](ch9-index.md)
