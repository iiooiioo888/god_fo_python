<!-- Status Page Template -->
<header class="pt-32 pb-16 bg-gradient-to-r from-gray-900 to-gray-800">
    <div class="container mx-auto px-4 text-center">
        <div class="flex items-center justify-center gap-4 mb-6">
            <span class="text-5xl">📊</span>
            <div>
                <h1 class="text-4xl font-bold">镜像状态监控中心</h1>
                <p class="text-xl text-gray-400 mt-2">实时监控数据源健康状态，可用性与性能指标</p>
            </div>
        </div>
    </div>
</header>

<section class="py-8">
    <div class="container mx-auto px-4">
        <!-- Control Panel -->
        <div class="mb-8">
            <div class="flex justify-between items-center">
                <div>
                    <h2 class="text-2xl font-bold mb-2">数据源监控面板</h2>
                    <p class="text-gray-400">监控所有数据源的实时状态和性能</p>
                </div>
                <div class="flex gap-4">
                    <div class="text-right">
                        <div class="text-sm text-gray-400">数据更新</div>
                        <div class="text-green-400 font-mono">00:23:45 ago</div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm text-gray-400">检查频率</div>
                        <div class="text-blue-400">60s</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stats Summary -->
        <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-8">
            <div class="bg-gray-700/50 rounded-xl p-4 text-center">
                <div class="text-lg font-semibold text-blue-400">{{ TOTAL_SOURCES }}</div>
                <div class="text-sm text-gray-400">总数据源</div>
            </div>
            <div class="bg-gray-700/50 rounded-xl p-4 text-center">
                <div class="text-lg font-semibold text-green-400">{{ HEALTHY_SOURCES }}</div>
                <div class="text-sm text-gray-400">健康运行</div>
            </div>
            <div class="bg-gray-700/50 rounded-xl p-4 text-center">
                <div class="text-lg font-semibold text-yellow-400">{{ WARNING_SOURCES }}</div>
                <div class="text-sm text-gray-400">有警告</div>
            </div>
            <div class="bg-gray-700/50 rounded-xl p-4 text-center">
                <div class="text-lg font-semibold text-red-400">{{ ERROR_SOURCES }}</div>
                <div class="text-sm text-gray-400">故障停机</div>
            </div>
            <div class="bg-gray-700/50 rounded-xl p-4 text-center">
                <div class="text-lg font-semibold text-purple-400">{{ AVG_RESPONSE }}</div>
                <div class="text-sm text-gray-400">平均响应(ms)</div>
            </div>
        </div>

        <!-- Filter Bar -->
        <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 mb-6 border border-gray-700">
            <div class="flex flex-wrap items-center gap-4">
                <div class="flex items-center gap-2">
                    <label class="text-sm text-gray-300">状态过滤:</label>
                    <div class="flex gap-2">
                        <button class="status-filter-btn px-3 py-1 rounded-full text-xs font-medium bg-green-900/30 text-green-400 border border-green-500/30" data-filter="all">
                            全部
                        </button>
                        <button class="status-filter-btn px-3 py-1 rounded-full text-xs font-medium bg-gray-700/50 text-gray-300 border border-gray-600" data-filter="healthy">
                            正常
                        </button>
                        <button class="status-filter-btn px-3 py-1 rounded-full text-xs font-medium bg-gray-700/50 text-gray-300 border border-gray-600" data-filter="warning">
                            警告
                        </button>
                        <button class="status-filter-btn px-3 py-1 rounded-full text-xs font-medium bg-gray-700/50 text-gray-300 border border-gray-600" data-filter="error">
                            错误
                        </button>
                    </div>
                </div>

                <div class="flex items-center gap-2">
                    <label class="text-sm text-gray-300">类型:</label>
                    <select class="bg-gray-700 border border-gray-600 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" id="type-filter">
                        <option value="all">全部类型</option>
                        <option value="图片">图片</option>
                        <option value="视频">视频</option>
                        <option value="API">API</option>
                        <option value="其他">其他</option>
                    </select>
                </div>

                <div class="flex items-center gap-2">
                    <input type="text" placeholder="搜索数据源..." class="bg-gray-700 border border-gray-600 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" id="search-input">
                </div>

                <button class="bg-blue-600 hover:bg-blue-700 px-4 py-1 rounded-lg text-sm font-medium transition-colors" onclick="refreshStatus()">
                    刷新状态
                </button>
            </div>
        </div>

        <!-- Status Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="status-grid">
            <!-- Status cards will be populated by JavaScript -->
        </div>

        <!-- Load More -->
        <div class="text-center mt-8">
            <button class="bg-gray-700 hover:bg-gray-600 px-6 py-3 rounded-lg text-sm font-medium transition-colors" id="load-more-btn" onclick="loadMoreStatus()">
                加载更多
            </button>
        </div>
    </div>
</section>

<!-- Status Card Template (will be cloned) -->
<template id="status-card-template">
    <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 hover:border-blue-500 transition-all duration-300">
        <div class="flex justify-between items-start mb-4">
            <div>
                <h3 class="text-lg font-semibold mb-1">{{ STATUS_NAME }}</h3>
                <div class="text-sm text-gray-400">{{ STATUS_TYPE }}</div>
            </div>
            <span class="status-indicator {{ STATUS_CLASS }}">{{ STATUS_ICON }} {{ STATUS_TEXT }}</span>
        </div>

        <div class="space-y-3 mb-4">
            <div class="flex justify-between items-center">
                <span class="text-sm text-gray-400">响应时间</span>
                <span class="text-sm font-mono {{ STATUS_RESPONSE_CLASS }}">{{ STATUS_RESPONSE }}</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="text-sm text-gray-400">可用率</span>
                <span class="text-sm {{ STATUS_UPTIME_CLASS }}">{{ STATUS_UPTIME }}</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="text-sm text-gray-400">最后检查</span>
                <span class="text-sm text-gray-300">{{ STATUS_LAST_CHECK }}</span>
            </div>
        </div>

        <div class="flex gap-2">
            <button class="flex-1 bg-blue-600 hover:bg-blue-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1" data-id="{{ STATUS_ID }}" onclick="checkStatus(this.dataset.id)">
                <i data-feather="refresh-ccw" class="h-3 w-3"></i>
                检查
            </button>
            <button class="flex-1 bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1" data-id="{{ STATUS_ID }}" onclick="viewStatusDetails(this.dataset.id)">
                <i data-feather="info" class="h-3 w-3"></i>
                详情
            </button>
        </div>
    </div>
</template>

<!-- Loading Template -->
<template id="loading-template">
    <div class="bg-gray-800/30 backdrop-blur-sm rounded-xl p-6 border border-gray-700 animate-pulse">
        <div class="flex justify-between items-start mb-4">
            <div class="space-y-2">
                <div class="h-5 bg-gray-600 rounded w-32"></div>
                <div class="h-3 bg-gray-600 rounded w-20"></div>
            </div>
            <div class="w-20 h-6 bg-gray-600 rounded-full"></div>
        </div>

        <div class="space-y-3 mb-4">
            <div class="flex justify-between">
                <div class="h-3 bg-gray-600 rounded w-16"></div>
                <div class="h-3 bg-gray-600 rounded w-12"></div>
            </div>
            <div class="flex justify-between">
                <div class="h-3 bg-gray-600 rounded w-12"></div>
                <div class="h-3 bg-gray-600 rounded w-16"></div>
            </div>
            <div class="flex justify-between">
                <div class="h-3 bg-gray-600 rounded w-16"></div>
                <div class="h-3 bg-gray-600 rounded w-20"></div>
            </div>
        </div>

        <div class="flex gap-2">
            <div class="flex-1 h-8 bg-gray-600 rounded"></div>
            <div class="flex-1 h-8 bg-gray-600 rounded"></div>
        </div>
    </div>
</template>
