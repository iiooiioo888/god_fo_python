<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¶ˆæ¯ä¸­å¿ƒ - é€šçŸ¥ç®¡ç† | é•œç•Œ</title>
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ”</text></svg>">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-900 to-black text-white">
    <custom-navbar></custom-navbar>

<main>

    <!-- Header -->
    <header class="pt-32 pb-16 bg-gradient-to-r from-blue-900 to-purple-900">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">æ¶ˆæ¯ä¸­å¿ƒ</h1>
            <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                åŠæ—¶è·å–æ•°æ®æºæ›´æ–°ã€ç¤¾åŒºåŠ¨æ€ã€ç³»ç»Ÿé€šçŸ¥ç­‰é‡è¦ä¿¡æ¯
            </p>
        </div>
    </header>

    <!-- Notifications Content -->
    <section class="py-12">
        <div class="container mx-auto px-4 max-w-4xl">

            <!-- Filter Tabs -->
            <div class="flex flex-wrap gap-4 mb-8 border-b border-gray-700 pb-4">
                <button onclick="switchTab('all')" class="filter-tab active px-6 py-2 bg-blue-600 text-white rounded-lg">
                    å…¨éƒ¨æ¶ˆæ¯
                </button>
                <button onclick="switchTab('system')" class="filter-tab px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors">
                    ç³»ç»Ÿé€šçŸ¥
                </button>
                <button onclick="switchTab('community')" class="filter-tab px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors">
                    ç¤¾åŒºåŠ¨æ€
                </button>
                <button onclick="switchTab('updates')" class="filter-tab px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors">
                    æ›´æ–°æé†’
                </button>
            </div>

            <!-- Mark All Read -->
            <div class="flex justify-between items-center mb-6">
                <div class="text-gray-400">
                    <span id="unread-count">3</span> æ¡æœªè¯»æ¶ˆæ¯
                </div>
                <button onclick="markAllRead()" class="px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-medium transition-colors">
                    å…¨éƒ¨æ ‡ä¸ºå·²è¯»
                </button>
            </div>

            <!-- Notifications List -->
            <div id="notifications-list" class="space-y-4">
                <!-- System Notification -->
                <div class="notification-card bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 unread">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0">
                            <div class="w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center">
                                <i data-feather="info" class="text-blue-400"></i>
                            </div>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2 mb-2">
                                <h4 class="text-lg font-semibold">ç³»ç»Ÿç»´æŠ¤é€šçŸ¥</h4>
                                <span class="px-2 py-1 bg-red-900/30 text-red-400 rounded-full text-xs">ç³»ç»Ÿ</span>
                                <div class="ml-auto flex items-center gap-2">
                                    <span class="text-xs text-gray-400">2023-10-28 22:35</span>
                                    <div class="w-2 h-2 bg-blue-400 rounded-full"></div>
                                </div>
                            </div>
                            <p class="text-gray-300 mb-3">å°Šæ•¬çš„ç”¨æˆ·ï¼Œé•œç•Œå°†äºä»Šæ™š23:00-24:00è¿›è¡Œç³»ç»Ÿç»´æŠ¤å‡çº§ï¼Œå±Šæ—¶å¯èƒ½å½±å“éƒ¨åˆ†åŠŸèƒ½ä½¿ç”¨ã€‚æˆ‘ä»¬å°†å°½å¿«å®Œæˆç»´æŠ¤ï¼Œä¸ºæ‚¨å¸¦æ¥æ›´å¥½çš„ä½¿ç”¨ä½“éªŒã€‚</p>
                            <div class="flex gap-3">
                                <button onclick="dismissNotification('sys-1')" class="text-gray-400 hover:text-white text-sm">å…³é—­</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Community Notification -->
                <div class="notification-card bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 unread">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0">
                            <div class="w-10 h-10 bg-green-500/20 rounded-full flex items-center justify-center">
                                <i data-feather="message-circle" class="text-green-400"></i>
                            </div>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2 mb-2">
                                <h4 class="text-lg font-semibold">æ‚¨çš„è¯„è®ºæ”¶åˆ°å›å¤</h4>
                                <span class="px-2 py-1 bg-green-900/30 text-green-400 rounded-full text-xs">ç¤¾åŒº</span>
                                <div class="ml-auto flex items-center gap-2">
                                    <span class="text-xs text-gray-400">2023-10-28 21:15</span>
                                    <div class="w-2 h-2 bg-blue-400 rounded-full"></div>
                                </div>
                            </div>
                            <p class="text-gray-300 mb-3">æ•°æ®çˆ±å¥½è€…åœ¨å¯¹"Unsplash é«˜æ¸…å›¾ç‰‡åº“"çš„è¯„è®ºä¸­å›å¤äº†æ‚¨ï¼š"å¾ˆæ„Ÿè°¢æ‚¨çš„åˆ†äº«ï¼æˆ‘å‘ç°è¿™ä¸ªAPIæ¥å£æ–‡æ¡£å†™å¾—å¾ˆè¯¦ç»†ï¼Œç”¨èµ·æ¥ç‰¹åˆ«é¡ºæ‰‹ã€‚"</p>
                            <div class="flex gap-3">
                                <button onclick="viewRelated('mirror-1')" class="text-blue-400 hover:text-blue-300 text-sm">æŸ¥çœ‹åŸå¸–</button>
                                <button onclick="dismissNotification('comm-1')" class="text-gray-400 hover:text-white text-sm">å…³é—­</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Update Notification -->
                <div class="notification-card bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 unread">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0">
                            <div class="w-10 h-10 bg-yellow-500/20 rounded-full flex items-center justify-center">
                                <i data-feather="refresh-cw" class="text-yellow-400"></i>
                            </div>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2 mb-2">
                                <h4 class="text-lg font-semibold">æ•°æ®æºæ›´æ–°æé†’</h4>
                                <span class="px-2 py-1 bg-yellow-900/30 text-yellow-400 rounded-full text-xs">æ›´æ–°</span>
                                <div class="ml-auto flex items-center gap-2">
                                    <span class="text-xs text-gray-400">2023-10-28 19:30</span>
                                    <div class="w-2 h-2 bg-blue-400 rounded-full"></div>
                                </div>
                            </div>
                            <p class="text-gray-300 mb-3">æ‚¨æ”¶è—çš„"Pexels è§†é¢‘ç´ æåº“"å‘å¸ƒäº†æ–°ç‰ˆæœ¬æ›´æ–°ï¼ä¿®å¤äº†éƒ¨åˆ†ç§»åŠ¨ç«¯å…¼å®¹æ€§é—®é¢˜ï¼Œå¹¶æ–°å¢äº†é«˜çº§æœç´¢åŠŸèƒ½ã€‚ç°åœ¨æ”¯æŒæŒ‰åˆ†è¾¨ç‡å’Œæ—¶é•¿ç­›é€‰ï¼Œæ›´å¥½åœ°æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚</p>
                            <div class="flex gap-3">
                                <button onclick="viewRelated('mirror-2')" class="text-blue-400 hover:text-blue-300 text-sm">æŸ¥çœ‹è¯¦æƒ…</button>
                                <button onclick="dismissNotification('upd-1')" class="text-gray-400 hover:text-white text-sm">å…³é—­</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Read Notification -->
                <div class="notification-card bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 opacity-75">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0">
                            <div class="w-10 h-10 bg-purple-500/20 rounded-full flex items-center justify-center">
                                <i data-feather="star" class="text-purple-400"></i>
                            </div>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2 mb-2">
                                <h4 class="text-lg font-semibold">æ­å–œè·å¾—æˆå°±</h4>
                                <span class="px-2 py-1 bg-purple-900/30 text-purple-400 rounded-full text-xs">æˆå°±</span>
                                <div class="ml-auto flex items-center gap-2">
                                    <span class="text-xs text-gray-400">2023-10-28 15:45</span>
                                </div>
                            </div>
                            <p class="text-gray-300 mb-3">ğŸ‰ æ­å–œæ‚¨è§£é”äº†"æ–°æ‰‹æ”¶è—å®¶"æˆå°±ï¼æ‚¨å·²æ”¶è—äº†10ä¸ªä¼˜è´¨æ•°æ®æºï¼Œç»§ç»­ä¿æŒæ•°æ®æ¢ç´¢çš„ç²¾ç¥å“¦~</p>
                            <div class="flex gap-3">
                                <button onclick="viewAchievements()" class="text-purple-400 hover:text-purple-300 text-sm">æŸ¥çœ‹æˆå°±</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- System Notification (Read) -->
                <div class="notification-card bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 opacity-75">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0">
                            <div class="w-10 h-10 bg-gray-500/20 rounded-full flex items-center justify-center">
                                <i data-feather="settings" class="text-gray-400"></i>
                            </div>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center gap-2 mb-2">
                                <h4 class="text-lg font-semibold">æ–°åŠŸèƒ½ä¸Šçº¿</h4>
                                <span class="px-2 py-1 bg-gray-900/30 text-gray-400 rounded-full text-xs">åŠŸèƒ½</span>
                                <div class="ml-auto flex items-center gap-2">
                                    <span class="text-xs text-gray-400">2023-10-27 10:00</span>
                                </div>
                            </div>
                            <p class="text-gray-300 mb-3">é•œç•Œç°å·²æ”¯æŒä¸ªäººä¸­å¿ƒåŠŸèƒ½ï¼æ‚¨å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ä¸ªäººç»Ÿè®¡æ•°æ®ã€æ´»åŠ¨è®°å½•ã€è®¾ç½®åå¥½ç­‰ã€‚å¿«å»ä½“éªŒä¸€ä¸‹å§ï¼</p>
                            <div class="flex gap-3">
                                <button onclick="navigateTo('/profile.html')" class="text-blue-400 hover:text-blue-300 text-sm">æŸ¥çœ‹ä¸ªäººä¸­å¿ƒ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Empty State -->
            <div id="empty-state" class="hidden text-center py-12">
                <div class="w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i data-feather="bell-off" class="w-8 h-8 text-gray-500"></i>
                </div>
                <h3 class="text-xl font-semibold text-gray-400 mb-2">æš‚æ— é€šçŸ¥</h3>
                <p class="text-gray-500">å½“å‰æ²¡æœ‰æ–°æ¶ˆæ¯é€šçŸ¥</p>
            </div>

            <!-- Load More -->
            <div class="text-center mt-8">
                <button class="px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium transition-colors">
                    åŠ è½½æ›´å¤šæ¶ˆæ¯
                </button>
            </div>
        </div>
    </section>

</main>

    <custom-footer></custom-footer>

    <script src="components/navbar.js"></script>
    <script src="components/footer.js"></script>
    <script src="script.js"></script>
    <script>
        feather.replace();

        // Notification System
        let notifications = [
            {
                id: 'sys-1',
                type: 'system',
                icon: 'info',
                iconColor: 'blue',
                title: 'ç³»ç»Ÿç»´æŠ¤é€šçŸ¥',
                content: 'å°Šæ•¬çš„ç”¨æˆ·ï¼Œé•œç•Œå°†äºä»Šæ™š23:00-24:00è¿›è¡Œç³»ç»Ÿç»´æŠ¤å‡çº§ï¼Œå±Šæ—¶å¯èƒ½å½±å“éƒ¨åˆ†åŠŸèƒ½ä½¿ç”¨ã€‚æˆ‘ä»¬å°†å°½å¿«å®Œæˆç»´æŠ¤ï¼Œä¸ºæ‚¨å¸¦æ¥æ›´å¥½çš„ä½¿ç”¨ä½“éªŒã€‚',
                timestamp: '2023-10-28 22:35',
                read: false,
                category: 'system'
            },
            {
                id: 'comm-1',
                type: 'community',
                icon: 'message-circle',
                iconColor: 'green',
                title: 'æ‚¨çš„è¯„è®ºæ”¶åˆ°å›å¤',
                content: 'æ•°æ®çˆ±å¥½è€…åœ¨å¯¹"Unsplash é«˜æ¸…å›¾ç‰‡åº“"çš„è¯„è®ºä¸­å›å¤äº†æ‚¨ï¼š"å¾ˆæ„Ÿè°¢æ‚¨çš„åˆ†äº«ï¼æˆ‘å‘ç°è¿™ä¸ªAPIæ¥å£æ–‡æ¡£å†™å¾—å¾ˆè¯¦ç»†ï¼Œç”¨èµ·æ¥ç‰¹åˆ«é¡ºæ‰‹ã€‚"',
                timestamp: '2023-10-28 21:15',
                read: false,
                category: 'community'
            },
            {
                id: 'upd-1',
                type: 'updates',
                icon: 'refresh-cw',
                iconColor: 'yellow',
                title: 'æ•°æ®æºæ›´æ–°æé†’',
                content: 'æ‚¨æ”¶è—çš„"Pexels è§†é¢‘ç´ æåº“"å‘å¸ƒäº†æ–°ç‰ˆæœ¬æ›´æ–°ï¼ä¿®å¤äº†éƒ¨åˆ†ç§»åŠ¨ç«¯å…¼å®¹æ€§é—®é¢˜ï¼Œå¹¶æ–°å¢äº†é«˜çº§æœç´¢åŠŸèƒ½ã€‚ç°åœ¨æ”¯æŒæŒ‰åˆ†è¾¨ç‡å’Œæ—¶é•¿ç­›é€‰ï¼Œæ›´å¥½åœ°æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚',
                timestamp: '2023-10-28 19:30',
                read: false,
                category: 'updates'
            },
            {
                id: 'ach-1',
                type: 'achievement',
                icon: 'star',
                iconColor: 'purple',
                title: 'æ­å–œè·å¾—æˆå°±',
                content: 'ğŸ‰ æ­å–œæ‚¨è§£é”äº†"æ–°æ‰‹æ”¶è—å®¶"æˆå°±ï¼æ‚¨å·²æ”¶è—äº†10ä¸ªä¼˜è´¨æ•°æ®æºï¼Œç»§ç»­ä¿æŒæ•°æ®æ¢ç´¢çš„ç²¾ç¥å“¦~',
                timestamp: '2023-10-28 15:45',
                read: true,
                category: 'achievement'
            },
            {
                id: 'feat-1',
                type: 'feature',
                icon: 'settings',
                iconColor: 'gray',
                title: 'æ–°åŠŸèƒ½ä¸Šçº¿',
                content: 'é•œç•Œç°å·²æ”¯æŒä¸ªäººä¸­å¿ƒåŠŸèƒ½ï¼æ‚¨å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ä¸ªäººç»Ÿè®¡æ•°æ®ã€æ´»åŠ¨è®°å½•ã€è®¾ç½®åå¥½ç­‰ã€‚å¿«å»ä½“éªŒä¸€ä¸‹å§ï¼',
                timestamp: '2023-10-27 10:00',
                read: true,
                category: 'system'
            }
        ];

        let currentFilter = 'all';

        // Initialize
        function initNotifications() {
            renderNotifications();
            updateUnreadCount();
        }

        function switchTab(tab) {
            currentFilter = tab;

            // Update tab styles
            document.querySelectorAll('.filter-tab').forEach(btn => {
                btn.classList.remove('active', 'bg-blue-600', 'text-white');
                btn.classList.add('bg-gray-700', 'hover:bg-gray-600');
            });
            document.querySelector(`[onclick="switchTab('${tab}')"]`).classList.add('active', 'bg-blue-600', 'text-white');
            document.querySelector(`[onclick="switchTab('${tab}')"]`).classList.remove('bg-gray-700', 'hover:bg-gray-600');

            renderNotifications();
        }

        function renderNotifications() {
            const container = document.getElementById('notifications-list');
            let filteredNotifications = notifications;

            if (currentFilter !== 'all') {
                filteredNotifications = notifications.filter(n => {
                    if (currentFilter === 'system') return n.category === 'system';
                    if (currentFilter === 'community') return n.category === 'community';
                    if (currentFilter === 'updates') return n.category === 'updates';
                    return true;
                });
            }

            container.innerHTML = '';

            filteredNotifications.forEach(notification => {
                const notificationElement = createNotificationElement(notification);
                container.appendChild(notificationElement);
            });

            // Show empty state if no notifications
            document.getElementById('empty-state').classList.toggle('hidden', filteredNotifications.length > 0);
        }

        function createNotificationElement(notification) {
            const notificationDiv = document.createElement('div');
            notificationDiv.className = `notification-card bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 ${notification.read ? 'opacity-75' : 'unread'}`;
            notificationDiv.innerHTML = `
                <div class="flex items-start gap-4">
                    <div class="flex-shrink-0">
                        <div class="w-10 h-10 bg-${notification.iconColor}-500/20 rounded-full flex items-center justify-center">
                            <i data-feather="${notification.icon}" class="text-${notification.iconColor}-400"></i>
                        </div>
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 mb-2">
                            <h4 class="text-lg font-semibold">${notification.title}</h4>
                            <span class="px-2 py-1 bg-${notification.iconColor}-900/30 text-${notification.iconColor}-400 rounded-full text-xs capitalize">${getCategoryLabel(notification.category)}</span>
                            <div class="ml-auto flex items-center gap-2">
                                <span class="text-xs text-gray-400">${notification.timestamp}</span>
                                ${!notification.read ? '<div class="w-2 h-2 bg-blue-400 rounded-full"></div>' : ''}
                            </div>
                        </div>
                        <p class="text-gray-300 mb-3">${notification.content}</p>
                        <div class="flex gap-3">
                            ${getNotificationActions(notification)}
                            <button onclick="dismissNotification('${notification.id}')" class="text-gray-400 hover:text-white text-sm">å…³é—­</button>
                        </div>
                    </div>
                </div>
            `;

            // Add feather icons after creation
            setTimeout(() => { feather.replace(); }, 10);

            return notificationDiv;
        }

        function getCategoryLabel(category) {
            const labels = {
                'system': 'ç³»ç»Ÿ',
                'community': 'ç¤¾åŒº',
                'updates': 'æ›´æ–°',
                'achievement': 'æˆå°±'
            };
            return labels[category] || category;
        }

        function getNotificationActions(notification) {
            switch(notification.category) {
                case 'community':
                    return '<button onclick="viewRelated(\'mirror-1\')" class="text-blue-400 hover:text-blue-300 text-sm">æŸ¥çœ‹åŸå¸–</button>';
                case 'updates':
                    return '<button onclick="viewRelated(\'mirror-2\')" class="text-blue-400 hover:text-blue-300 text-sm">æŸ¥çœ‹è¯¦æƒ…</button>';
                case 'achievement':
                    return '<button onclick="viewAchievements()" class="text-purple-400 hover:text-purple-300 text-sm">æŸ¥çœ‹æˆå°±</button>';
                case 'feature':
                    return '<button onclick="navigateTo(\'/profile.html\')" class="text-blue-400 hover:text-blue-300 text-sm">æŸ¥çœ‹ä¸ªäººä¸­å¿ƒ</button>';
                default:
                    return '';
            }
        }

        function dismissNotification(id) {
            const notification = notifications.find(n => n.id === id);
            if (notification) {
                notification.read = true;
                renderNotifications();
                updateUnreadCount();
            }
        }

        function markAllRead() {
            notifications.forEach(n => n.read = true);
            renderNotifications();
            updateUnreadCount();
            showToast('å…¨éƒ¨æ¶ˆæ¯å·²æ ‡ä¸ºå·²è¯»', 'success');
        }

        function updateUnreadCount() {
            const unreadCount = notifications.filter(n => !n.read).length;
            document.getElementById('unread-count').textContent = unreadCount;
        }

        function viewRelated(itemId) {
            // Navigate to the related item (mirror, etc.)
            if (itemId.includes('mirror')) {
                // Extract mirror ID and navigate
                const mirrorId = itemId.split('-')[1];
                navigateTo('/mirrors.html');
                setTimeout(() => openDetailModal(mirrorId), 500);
            }
        }

        function viewAchievements() {
            // Navigate to profile and switch to overview tab
            navigateTo('/profile.html');
        }

        // Initialize notifications
        document.addEventListener('DOMContentLoaded', function() {
            initNotifications();
        });
    </script>
</body>
</html>
